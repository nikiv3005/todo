{"ast":null,"code":"export default function createBroadcast(initialState) {\n  let listeners = {};\n  let id = 1;\n  let _state = initialState;\n  function getState() {\n    return _state;\n  }\n  function setState(state) {\n    _state = state;\n    const keys = Object.keys(listeners);\n    let i = 0;\n    const len = keys.length;\n    for (; i < len; i++) {\n      // if a listener gets unsubscribed during setState we just skip it\n      if (listeners[keys[i]]) listeners[keys[i]](state);\n    }\n  }\n\n  // subscribe to changes and return the subscriptionId\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('listener must be a function.');\n    }\n    const currentId = id;\n    listeners[currentId] = listener;\n    id += 1;\n    return currentId;\n  }\n\n  // remove subscription by removing the listener function\n  function unsubscribe(id) {\n    delete listeners[id];\n  }\n  return {\n    getState,\n    setState,\n    subscribe,\n    unsubscribe\n  };\n}","map":{"version":3,"names":["createBroadcast","initialState","listeners","id","_state","getState","setState","state","keys","Object","i","len","length","subscribe","listener","Error","currentId","unsubscribe"],"sources":["/Users/nicole/Documents/Project/todo-list/node_modules/brcast/index.js"],"sourcesContent":["export default function createBroadcast (initialState) {\n  let listeners = {}\n  let id = 1\n  let _state = initialState\n\n  function getState () {\n    return _state\n  }\n\n  function setState (state) {\n    _state = state\n    const keys = Object.keys(listeners)\n    let i = 0\n    const len = keys.length\n    for (; i < len; i++) {\n      // if a listener gets unsubscribed during setState we just skip it\n      if (listeners[keys[i]]) listeners[keys[i]](state)\n    }\n  }\n\n  // subscribe to changes and return the subscriptionId\n  function subscribe (listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('listener must be a function.')\n    }\n    const currentId = id\n    listeners[currentId] = listener\n    id += 1\n    return currentId\n  }\n\n  // remove subscription by removing the listener function\n  function unsubscribe (id) {\n    delete listeners[id]\n  }\n\n  return { getState, setState, subscribe, unsubscribe }\n}\n"],"mappings":"AAAA,eAAe,SAASA,eAAeA,CAAEC,YAAY,EAAE;EACrD,IAAIC,SAAS,GAAG,CAAC,CAAC;EAClB,IAAIC,EAAE,GAAG,CAAC;EACV,IAAIC,MAAM,GAAGH,YAAY;EAEzB,SAASI,QAAQA,CAAA,EAAI;IACnB,OAAOD,MAAM;EACf;EAEA,SAASE,QAAQA,CAAEC,KAAK,EAAE;IACxBH,MAAM,GAAGG,KAAK;IACd,MAAMC,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACN,SAAS,CAAC;IACnC,IAAIQ,CAAC,GAAG,CAAC;IACT,MAAMC,GAAG,GAAGH,IAAI,CAACI,MAAM;IACvB,OAAOF,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;MACnB;MACA,IAAIR,SAAS,CAACM,IAAI,CAACE,CAAC,CAAC,CAAC,EAAER,SAAS,CAACM,IAAI,CAACE,CAAC,CAAC,CAAC,CAACH,KAAK,CAAC;IACnD;EACF;;EAEA;EACA,SAASM,SAASA,CAAEC,QAAQ,EAAE;IAC5B,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClC,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;IACjD;IACA,MAAMC,SAAS,GAAGb,EAAE;IACpBD,SAAS,CAACc,SAAS,CAAC,GAAGF,QAAQ;IAC/BX,EAAE,IAAI,CAAC;IACP,OAAOa,SAAS;EAClB;;EAEA;EACA,SAASC,WAAWA,CAAEd,EAAE,EAAE;IACxB,OAAOD,SAAS,CAACC,EAAE,CAAC;EACtB;EAEA,OAAO;IAAEE,QAAQ;IAAEC,QAAQ;IAAEO,SAAS;IAAEI;EAAY,CAAC;AACvD"},"metadata":{},"sourceType":"module","externalDependencies":[]}